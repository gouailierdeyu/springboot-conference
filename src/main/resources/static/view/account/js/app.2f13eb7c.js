(function(e){function t(t){for(var s,o,l=t[0],i=t[1],c=t[2],m=0,d=[];m<l.length;m++)o=l[m],n[o]&&d.push(n[o][0]),n[o]=0;for(s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s]);u&&u(t);while(d.length)d.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],s=!0,l=1;l<a.length;l++){var i=a[l];0!==n[i]&&(s=!1)}s&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var s={},n={app:0},r=[];function o(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=s,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(a,s,function(t){return e[t]}.bind(null,s));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/view/account/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=i;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"17e3":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("header",{},[a("nav",{staticClass:"nav navbar navbar-default"},[a("div",{staticClass:"container-fluid"},[e._m(0),a("div",{staticClass:"collapse navbar-collapse",attrs:{id:"nav-section"}},[a("ul",{staticClass:"nav navbar-nav navbar-right"},[e._m(1),a("li",{staticClass:"dropdown"},[a("a",{staticClass:"dropdown-toggle text-center",attrs:{href:"#","data-toggle":"dropdown"}},[a("img",{attrs:{src:e.sharedState.userMessage.headImgUrl,alt:"",height:"25",width:"25"}}),e._v("\n                                 \n                                "),a("span",{},[e._v(e._s(e._f("lengthLimit")(e.sharedState.userMessage.realName,5)))])]),a("ul",{staticClass:"dropdown-menu"},[e._m(2),e._m(3),a("li",{staticClass:"text-center"},[a("a",{attrs:{href:"javascript:void(0);"},on:{click:function(t){return e.exitEvent()}}},[a("span",{staticClass:"glyphicon glyphicon-off"}),e._v("\n                                         \n                                        "),a("span",[e._v("退出")])])])])])])])])])]),a("section",{staticClass:"container-fluid"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-2"},[a("ul",{staticClass:"nav nav-stacked"},[a("li",{attrs:{id:"myevent"}},[a("a",{staticClass:"text-center",attrs:{href:"#/myevent"},on:{click:function(t){return e.change(1)}}},[a("span",{staticClass:"glyphicon glyphicon-bookmark"}),e._v("\n                             \n                            "),a("span",[e._v("我的活动")])])]),a("li",{attrs:{id:"myjoin"}},[a("a",{staticClass:"text-center",attrs:{href:"#/myjoin"},on:{click:function(t){return e.change(2)}}},[a("span",{staticClass:"glyphicon glyphicon-tag"}),e._v("\n                             \n                            "),a("span",[e._v("我的参与")])])]),a("li",{attrs:{id:"mymess"}},[a("a",{staticClass:"text-center",attrs:{href:"#/mymess"},on:{click:function(t){return e.change(3)}}},[a("span",{staticClass:"glyphicon glyphicon-envelope"}),e._v("\n                             \n                            "),a("span",[e._v("我的消息")])])]),a("li",{attrs:{id:"mypaper"}},[a("a",{staticClass:"text-center",attrs:{href:"#/mypaper"},on:{click:function(t){return e.change(4)}}},[a("span",{staticClass:"glyphicon glyphicon-file"}),e._v("\n                             \n                            "),a("span",[e._v("我的论文")])])]),a("li",{staticClass:"myinfo",staticStyle:{"background-color":"aliceblue"},attrs:{id:"myinfo"}},[a("a",{staticClass:"text-center",attrs:{href:"#/myinfo"},on:{click:function(t){return e.change(5)}}},[a("span",{staticClass:"glyphicon glyphicon-cog"}),e._v("\n                             \n                            "),a("span",[e._v("我的账号")])])])])]),a("router-view")],1)])])},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"navbar-header"},[a("button",{staticClass:"navbar-toggle collapsed",attrs:{"data-toggle":"collapse","data-target":"#nav-section"}},[a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"}),a("span",{staticClass:"icon-bar"})]),a("a",{staticClass:"navbar-brand",attrs:{href:"/index"}},[a("span",{staticClass:"glyphicon glyphicon-education"}),a("span",[e._v("会议系统")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"first-li"},[a("a",{staticClass:"first-li-first-a",attrs:{href:"/conference/edit"}},[a("div",{},[a("span",{staticClass:"glyphicon glyphicon-plus"}),a("span",[e._v("创建活动")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"text-center"},[a("a",{attrs:{href:"/account/index"}},[a("span",{staticClass:"glyphicon glyphicon-home"}),e._v("\n                                         \n                                        "),a("span",[e._v("个人中心")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("li",{staticClass:"text-center"},[a("a",{attrs:{href:"/account/event"}},[a("span",{staticClass:"glyphicon glyphicon-bookmark"}),e._v("\n                                         \n                                        "),a("span",[e._v("我的活动")])])])}],o={name:"store",debug:!0,state:{userMessage:{id:"",userEmail:"",password:"",realName:"",companyName:"",job:"",headImgUrl:"",conferenceList:null,messageList:null,myOrderList:null,paperList:null,ticketDetailList:null}},setUserMessageAction:function(e){this.debug&&console.log("setMessageAction triggered with",e),this.state.userMessage=e},clearUserMessageAction:function(){this.debug&&console.log("clearMessageAction triggered"),this.state.userMessage=""}},l={name:"App",data:function(){return{sharedState:o.state}},methods:{change:function(e){if(1==e){var t=document.getElementById("myevent");t.style.backgroundColor="aliceblue",document.getElementById("myjoin").style.backgroundColor=null,document.getElementById("mymess").style.backgroundColor=null,document.getElementById("mypaper").style.backgroundColor=null,document.getElementById("myinfo").style.backgroundColor=null}else 2==e?(document.getElementById("myjoin").style.backgroundColor="aliceblue",document.getElementById("myevent").style.backgroundColor=null,document.getElementById("mymess").style.backgroundColor=null,document.getElementById("mypaper").style.backgroundColor=null,document.getElementById("myinfo").style.backgroundColor=null):3==e?(document.getElementById("mymess").style.backgroundColor="aliceblue",document.getElementById("myevent").style.backgroundColor=null,document.getElementById("myjoin").style.backgroundColor=null,document.getElementById("mypaper").style.backgroundColor=null,document.getElementById("myinfo").style.backgroundColor=null):4==e?(document.getElementById("mypaper").style.backgroundColor="aliceblue",document.getElementById("myevent").style.backgroundColor=null,document.getElementById("myjoin").style.backgroundColor=null,document.getElementById("mymess").style.backgroundColor=null,document.getElementById("myinfo").style.backgroundColor=null):5==e&&(document.getElementById("myinfo").style.backgroundColor="aliceblue",document.getElementById("myevent").style.backgroundColor=null,document.getElementById("myjoin").style.backgroundColor=null,document.getElementById("mymess").style.backgroundColor=null,document.getElementById("mypaper").style.backgroundColor=null)},exitEvent:function(){this.axios.get("/logout").then(function(e){"logout"==e.data&&(window.location.href="/index")}).catch(function(e){window.console.log(e)})}},filters:{lengthLimit:function(e,t){return null==e||""==e?"":e.length>t?e.substring(0,t)+"...":e}},created:function(){var e=this;this.axios.get("/checkme").then(function(t){var a=t.data.data;a.headImgUrl=a.headImgUrl+"?r="+(new Date).getTime(),o.setUserMessageAction(a),window.console.log(e.sharedState.userMessage)}).catch(function(){window.location.href="/index"})}},i=l,c=(a("c3dd"),a("2877")),u=Object(c["a"])(i,n,r,!1,null,"fd6df5e4",null),m=u.exports,d=a("bc3a"),p=a.n(d),g=a("8c4f"),v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"col-sm-10"},[e._m(0),a("br"),a("div",{staticClass:"user-info"},[a("form",{attrs:{action:"",enctype:"multipart/form-data",method:"post",id:"MyUserForm"}},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"control-label col-sm-4",attrs:{for:"user-name"}},[e._v("邮箱")]),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.privateState.userMessage.userEmail,expression:"privateState.userMessage.userEmail"}],staticClass:"form-control",attrs:{type:"text",id:"user-name",readonly:"readonly"},domProps:{value:e.privateState.userMessage.userEmail},on:{input:function(t){t.target.composing||e.$set(e.privateState.userMessage,"userEmail",t.target.value)}}})]),a("div",{staticClass:"col-sm-4"})]),a("br"),a("div",{staticClass:"form-group"},[a("br"),a("label",{staticClass:"control-label col-sm-4",attrs:{for:"head_images",onclick:"",id:"head-images-label"}},[e._v("头像")]),a("div",{staticClass:"col-sm-3",staticStyle:{"max-width":"120px"}},[a("img",{staticClass:"img-responsive",attrs:{src:e.privateState.userMessage.headImgUrl,alt:"",height:"100",width:"100",id:"head-show"}})]),a("div",{staticClass:"col-sm-2 head-upload"},[e._m(1),a("form",{staticStyle:{display:"none"},attrs:{id:"upform",enctype:"multipart/form-data"}},[a("input",{staticClass:"form-control-file",attrs:{id:"head_images",name:"upfile",type:"file"},on:{change:e.showImg}})]),a("p",[e._v("  限制120X120像素")])]),a("div",{staticClass:"col-sm-4"})]),a("div",{staticClass:"form-group",staticStyle:{"margin-top":"100px"}},[a("br"),a("label",{staticClass:"control-label col-sm-4",attrs:{for:"name"}},[e._v("姓名")]),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.privateState.userMessage.realName,expression:"privateState.userMessage.realName"}],staticClass:"form-control",attrs:{type:"text",id:"name"},domProps:{value:e.privateState.userMessage.realName},on:{input:function(t){t.target.composing||e.$set(e.privateState.userMessage,"realName",t.target.value)}}})]),a("div",{staticClass:"col-sm-4"})]),a("div",{staticClass:"form-group"},[a("br"),a("label",{staticClass:"control-label col-sm-4",attrs:{for:"company-name"}},[e._v("公司/机构")]),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.privateState.userMessage.companyName,expression:"privateState.userMessage.companyName"}],staticClass:"form-control",attrs:{type:"text",id:"company-name"},domProps:{value:e.privateState.userMessage.companyName},on:{input:function(t){t.target.composing||e.$set(e.privateState.userMessage,"companyName",t.target.value)}}})]),a("div",{staticClass:"col-sm-4"})]),a("div",{staticClass:"form-group"},[a("br"),a("label",{staticClass:"control-label col-sm-4",attrs:{for:"job-name"}},[e._v("职位")]),a("div",{staticClass:"col-sm-4"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.privateState.userMessage.job,expression:"privateState.userMessage.job"}],staticClass:"form-control",attrs:{type:"text",id:"job-name"},domProps:{value:e.privateState.userMessage.job},on:{input:function(t){t.target.composing||e.$set(e.privateState.userMessage,"job",t.target.value)}}})]),a("div",{staticClass:"col-sm-4"})]),a("div",{staticClass:"form-group"},[a("br"),a("button",{staticClass:"btn center-block",attrs:{id:"submit",type:"button"},on:{click:function(t){return e.submitEvent()}}},[e._v("保存")])])])])])},f=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"head"},[a("br"),a("p",[e._v("账号信息")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-control text-center",attrs:{type:"text",onclick:"document.getElementById('head_images').click();"}},[a("span",{staticClass:"glyphicon glyphicon-open"}),a("span",{staticStyle:{cursor:"pointer"}},[e._v("上传头像")])])}],y={name:"myinfo",data:function(){return{sharedState:o.state,privateState:{userMessage:{id:"",userEmail:"",password:"",realName:"",companyName:"",job:"",headImgUrl:"",conferenceList:null,messageList:null,myOrderList:null,paperList:null,ticketDetailList:null}}}},mounted:function(){var e=this;this.axios.get("/checkme").then(function(t){var a=t.data.data;a.headImgUrl=a.headImgUrl+"?r="+(new Date).getTime(),o.setUserMessageAction(a),e.privateState.userMessage=a}).catch(function(){window.location.href="/index"})},methods:{submitEvent:function(){var e=new FormData;e.append("userEmail",this.privateState.userMessage.userEmail),e.append("realName",this.privateState.userMessage.realName),e.append("companyName",this.privateState.userMessage.companyName),e.append("job",this.privateState.userMessage.job),e.append("headImgFile",document.getElementById("head_images").files[0]),window.console.log(document.getElementById("head_images"));var t=this;this.axios.defaults.headers.post["Content-Type"]="multipart/form-data;charse=UTF-8",this.axios.post("/account/updateUser",e).then(function(e){var a=e.data;200===a.code?(t.privateState.userMessage.headImgUrl=a.message+"?r="+(new Date).getTime(),o.setUserMessageAction(t.privateState.userMessage),window.console.log(o.state),window.alert("信息已保存")):500===a.code&&window.alert(a.message)}).catch(function(){window.location.href="/index"})},showImg:function(e){var t=this,a=e.target.files[0];if(e&&window.FileReader){var s=new FileReader;s.readAsDataURL(a),s.onloadend=function(){t.privateState.userMessage.headImgUrl=this.result}}}}},h=y,b=(a("7f13"),Object(c["a"])(h,v,f,!1,null,"203718e0",null)),C=b.exports,_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},w=[],E={name:"myevent"},k=E,x=Object(c["a"])(k,_,w,!1,null,"7a74321e",null),M=x.exports,I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},S=[],j={name:"myjoin"},B=j,N=Object(c["a"])(B,I,S,!1,null,"d0237a8a",null),U=N.exports,O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},$=[],L={name:"mymess"},P=L,A=Object(c["a"])(P,O,$,!1,null,"908d690a",null),D=A.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},F=[],R={name:"mypaper"},J=R,X=Object(c["a"])(J,T,F,!1,null,"48efec8d",null),q=X.exports;a("1157"),a("f9e3"),a("4989");s["a"].prototype.axios=p.a,s["a"].use(g["a"]);var z=new g["a"]({routes:[{path:"/",redirect:"/myinfo"},{path:"/myinfo",component:C},{path:"/mypaper",component:q},{path:"/myjoin",component:U},{path:"/myevent",component:M},{path:"/mymess",component:D}]});new s["a"]({render:function(e){return e(m)},router:z}).$mount("#app")},"7f13":function(e,t,a){"use strict";var s=a("ab15"),n=a.n(s);n.a},ab15:function(e,t,a){},c3dd:function(e,t,a){"use strict";var s=a("17e3"),n=a.n(s);n.a}});
//# sourceMappingURL=app.2f13eb7c.js.map